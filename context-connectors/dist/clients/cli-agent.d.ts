/**
 * CLI Agent - Interactive AI agent for codebase Q&A.
 *
 * Uses AI SDK tools in an agentic loop for answering questions about
 * indexed codebases. Supports multiple LLM providers and both
 * interactive (REPL) and single-query modes.
 *
 * @module clients/cli-agent
 *
 * @example
 * ```typescript
 * import { CLIAgent } from "@augmentcode/context-connectors";
 *
 * const agent = new CLIAgent({
 *   client: searchClient,
 *   provider: "openai",
 *   model: "gpt-4o",
 * });
 * await agent.initialize();
 *
 * const response = await agent.ask("How does authentication work?");
 * console.log(response);
 * ```
 */
import { CoreMessage } from "ai";
import type { SearchClient } from "./search-client.js";
/**
 * Supported LLM providers.
 * Each requires its corresponding AI SDK provider package to be installed.
 */
export type Provider = "openai" | "anthropic" | "google";
/**
 * Configuration for the CLI agent.
 */
export interface CLIAgentConfig {
    /** Initialized SearchClient instance */
    client: SearchClient;
    /** LLM provider to use */
    provider: Provider;
    /** Model name (e.g., "gpt-4o", "claude-3-opus", "gemini-pro") */
    model: string;
    /**
     * Maximum number of agent steps (tool calls + responses).
     * @default 10
     */
    maxSteps?: number;
    /**
     * Log tool calls to stderr for debugging.
     * @default false
     */
    verbose?: boolean;
    /**
     * Stream responses token by token.
     * @default true
     */
    stream?: boolean;
    /** Custom system prompt. Uses a sensible default if not provided. */
    systemPrompt?: string;
}
/**
 * Interactive AI agent for codebase Q&A.
 *
 * The agent maintains conversation history, allowing for follow-up
 * questions. It uses the configured LLM to answer questions by
 * automatically calling search, listFiles, and readFile tools.
 *
 * @example
 * ```typescript
 * const agent = new CLIAgent({
 *   client: searchClient,
 *   provider: "openai",
 *   model: "gpt-4o",
 *   verbose: true, // Show tool calls
 * });
 *
 * await agent.initialize();
 *
 * // Ask questions
 * await agent.ask("What does this project do?");
 * await agent.ask("Show me the main entry point");
 *
 * // Reset for new conversation
 * agent.reset();
 * ```
 */
export declare class CLIAgent {
    private readonly client;
    private model;
    private readonly provider;
    private readonly modelName;
    private readonly maxSteps;
    private readonly verbose;
    private readonly stream;
    private readonly systemPrompt;
    private readonly tools;
    private messages;
    /**
     * Create a new CLI agent.
     *
     * Note: You must call `initialize()` before using the agent.
     *
     * @param config - Agent configuration
     */
    constructor(config: CLIAgentConfig);
    /**
     * Initialize the agent by loading the model from the provider.
     *
     * Must be called before using `ask()`.
     *
     * @throws Error if the provider package is not installed
     */
    initialize(): Promise<void>;
    /**
     * Ask a question and get a response.
     *
     * The response is generated by the LLM, which may call tools
     * (search, listFiles, readFile) to gather information before
     * answering.
     *
     * The question and response are added to conversation history,
     * enabling follow-up questions.
     *
     * @param query - The question to ask
     * @returns The agent's response text
     * @throws Error if agent not initialized
     *
     * @example
     * ```typescript
     * const response = await agent.ask("How is authentication implemented?");
     * console.log(response);
     * ```
     */
    ask(query: string): Promise<string>;
    private generateResponse;
    private streamResponse;
    private logStep;
    /**
     * Reset conversation history.
     *
     * Use this to start a fresh conversation without tool context
     * from previous questions.
     */
    reset(): void;
    /**
     * Get a copy of the conversation history.
     *
     * @returns Array of messages (user and assistant turns)
     */
    getHistory(): CoreMessage[];
}
//# sourceMappingURL=cli-agent.d.ts.map